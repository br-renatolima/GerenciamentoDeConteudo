<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>

        <!-- Particular -->
        <link rel="stylesheet" type="text/css" media="all" href="css/adm-style.css" />
        <link rel="stylesheet" href="css/font-awesome.css" />

        <!-- BOOTSTRAP -->
        <link rel="stylesheet" href="bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" href="css/bootstrap-theme.css" />
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

        <!-- Mini AJAX File Upload Form -->
        <link rel="stylesheet" href="css/style.css" />

        <title>Painel de Controle</title>
        
                <script type="text/javascript">
              //<![CDATA[
            window.onload = function() {
                $("#maps").click(function() {
                	var endereco = $(this).parent().parent().parent().find('input').eq(1).val();
                	var linkMapa = 'https://www.google.com.br/maps/place/' + endereco + '';
                    var janela = window.open(linkMapa, 'janela', 'width=700, height=400, top=99, left=99, scrollbars=no, status=no, toolbar=no, location=no, directories=no, menubar=no, resizable=yes, fullscreen=yes');
                });
            }
            
            function start() {
                PF('statusDialog').show();
            }
             
            function stop() {
                PF('statusDialog').hide();
            }
//]]>
        </script>
        
        </h:head>
        
        
        
<h:body>



<div id="adm" class="jumbotron">
            <div class="container" id="menu">
                <div class="row">
                    
                    </div>

				<p:dialog header="Inserir Administrador" widgetVar="modalAdministrador" modal="true">
					<h:form>
						<p:panelGrid columns="2">
							<p:outputLabel for="nome" value="Nome : " />
							<p:inputText id="nome" value="#{AdministradorMB.nome}" required="true" requiredMessage="Nome é obrigatório!"/>
							<p:outputLabel for="sobrenome" value="Sobrenome : " />
							<p:inputText id="sobrenome" value="#{AdministradorMB.sobrenome}" requiredMessage="Sobrenome é obrigatório!" required="true" />
							<p:outputLabel for="login" value="Login : " />
							<p:inputText id="login" value="#{AdministradorMB.login}" requiredMessage="Login é obrigatório!" required="true" />
							<p:outputLabel for="senha" value="Senha : " />
							<p:password id="senha" value="#{AdministradorMB.senha}" requiredMessage="Senha é obrigatório!" required="true" feedback="true" />
							<p:outputLabel for="email" value="Email : " />
							<p:inputText id="email" value="#{AdministradorMB.email}" requiredMessage="Email é obrigatório!" required="true" />
							<p:outputLabel for="telefone" value="Telefone : " />
							<p:inputMask id="telefone" value="#{AdministradorMB.telefone}" requiredMessage="Telefone é obrigatório!" required="true" mask="(99) 99999-9999" />
							<h:commandButton value="Salvar" action="#{AdministradorMB.salvar}" />
							<p:button styleClass="btn btn-info" href="administrador/lista.jsf" value="Listar" icon="fa-list"/>
						</p:panelGrid>
					</h:form>
				</p:dialog>

				<p:dialog header="Inserir Música" widgetVar="modalMusica" modal="true">
					<h:form>
    					<p:panelGrid columns="2">
							<p:outputLabel for="nome" value="Nome" />						
								<h:inputText required="true" requiredMessage="Nome é obrigatório" value="#{MusicaMB.nome}" id="nome" >
									<f:validateLength minimum="3" />
								</h:inputText>						
							<p:outputLabel for="codigo" value="Código" />						
							   <h:inputText required="true" requiredMessage="Código é obrigatório" value="#{MusicaMB.codigo}" id="codigo" >
									<f:validateLength minimum="3" />
								</h:inputText>
							<h:commandButton value="Cadastrar" action="#{MusicaMB.salvar}" />
							<p:button styleClass="btn btn-info" href="musica/lista.jsf" value="Listar" icon="fa-list"/>
						</p:panelGrid>
					</h:form>
				</p:dialog>

				<p:dialog header="Inserir Álbum" widgetVar="modalAlbum" modal="true" >
					<h:form>
						<p:panelGrid columns="2" >
							<p:outputLabel for="nome" value="Nome: " />
							<p:inputText id="nome" value="#{AlbumMB.nome}" required="true" requiredMessage="Nome é obrigatório!" />
							
							<p:outputLabel for="descricao" value="Descrição: " />
							<p:inputText id="descricao" value="#{AlbumMB.descricao}" required="true" requiredMessage="Descrição é obrigatório!"  />
							
							<p:button styleClass="btn btn-info" href="album/lista.jsf" value="Listar" icon="fa-list"/>
							<h:commandButton value="Cadastrar" action="#{AlbumMB.salvar}" />
							
							<h:message></h:message>
						</p:panelGrid>
					</h:form>
				</p:dialog>

				<p:dialog header="Inserir Foto" widgetVar="modalFoto" modal="true" width="500">
					<h:form id="upload" enctype="multipart/form-data"> 			
						Escolha o Alb&uacute;m:
						<br />
						<h:selectOneMenu id="idAlbum" value="#{FotoMB.idAlbum}" required="true" >
							<f:selectItem itemLabel="Selecione" itemValue="" />
							<f:selectItems value="#{FotoMB.albuns}" var="lista" itemLabel="#{lista.nome}" itemValue="#{lista.idDescricao}" />
							<f:ajax event="change" listener="#{FotoMB.recuperarDados}" execute="@this"/>
						</h:selectOneMenu>
						<br />
       					<p:growl id="messages" />
			            <p:fileUpload fileUploadListener="#{FotoMB.fileUpload}" process="@this @form"  mode="advanced" update="@form" multiple="true" sizeLimit="2097152" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
					</h:form>
					<h6>Tamanho m&aacute;ximo: 2 MB</h6>
					<p:button styleClass="btn btn-info" href="foto/lista.jsf" value="Listar" icon="fa-list"/>
				</p:dialog>
				
				<p:dialog header="Inserir Video" widgetVar="modalVideo" modal="true">
					<h:form>
						<p:panelGrid columns="2">
							<h:outputLabel for="nome" value="Nome: " />
							<h:inputText required="true" requiredMessage="Nome é obrigatório" value="#{VideoMB.nome}" id="nome" >
								<f:validateLength minimum="3" />
							</h:inputText>
							<h:outputLabel for="codigo" value="Codigo: "/>
							<h:inputText required="true" requiredMessage="Código do link do youtube é obrigatório" value="#{VideoMB.codigo}" id="codigo" size="30">
								<f:validateLength minimum="3" />
							</h:inputText>

							<h6>Tamanho padr&atilde;o: 420 x 660<br />Inserir link a partir do trecho "watch?v="</h6>
							<h:commandButton action="#{VideoMB.salvar}" value="cadastrar" />
							<p:button styleClass="btn btn-info" href="video/lista.jsf" value="Listar" icon="fa-list"/>
						</p:panelGrid>
					</h:form>
				</p:dialog>

				<p:dialog header="Inserir Evento" widgetVar="modalEvento" modal="true">
					<h:form>
						<p:panelGrid columns="2">

							<p:outputLabel value="Data: " for="data" />
							<p:calendar id="data" required="true" requiredMessage="Data é obrigatório!"  value="#{EventoMB.data}" pattern="MM/dd/yyyy HH:mm" widgetVar="dlg" />
						
							<p:outputLabel value="Endereco: " for="endereco" />
							<p:inputText value="#{EventoMB.endereco}" id="endereco" required="true" requiredMessage="Caso não tenha endereço, preencha com --" />
							
							<h:outputText />
							<input type="button" class="form-control btn-success" value="Procurar no Google Maps" id="maps" />
							
							<p:outputLabel value="Local:" for="local" />
							<p:autoComplete id="local" dropdown="true" required="true" value="#{EventoMB.local}" requiredMessage="Caso não tenha local, preencha com --" completeMethod="#{EventoMB.completeLocais}" />
							
							<p:outputLabel value="Nome: " for="nome" />
							<p:inputText value="#{EventoMB.nome}" id="nome" required="true" requiredMessage="Nome é obrigatório!" />
							
							<p:outputLabel value="Obs: " for="obs" />
							<p:inputText value="#{EventoMB.obs}" id="obs" required="true" requiredMessage="Valor da entrada, Entrada Gratuíta ou 1 KG de Alimento não perecível?"/>

						</p:panelGrid>
						<br />

						<h:commandButton value="Cadastrar" action="#{EventoMB.salvar}" update="msgs" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<p:button styleClass="btn btn-info" href="evento/lista.jsf" value="Listar" icon="fa-list"/>
					</h:form>
				</p:dialog>


				<p:dialog header="Alterar Textos" widgetVar="modalTexto" modal="true">
					<ui:repeat var="Texto" value="#{TextoMB.textos}">
						<h:form>
							<h:inputTextarea cols="40" rows="10" value="#{Texto.texto}" /> &nbsp; &nbsp; 
                            <h:commandButton value="Alterar" action="#{TextoMB.salvar}" />
						</h:form>
						<br />
					</ui:repeat>
				</p:dialog>
				
				
				<p:dialog header="Moderar Posts" widgetVar="modalPost" modal="true">
				<h6>Lista de posts pendentes</h6>
					<ui:repeat var="Post" value="#{PostMB.postsPendentes}">
						<h:form>
							<div class="col-md-12">
								<div class="col-md-4"><h:outputText value="#{Post.nome}"/></div>
								<div class="col-md-4"><h:outputText value="#{Post.dia}/#{Post.mes}/#{Post.ano} #{Post.hora}:#{Post.minuto}"/></div>
								<div class="col-md-4"><h:outputText value="#{Post.email}"/></div>
							</div>
							<br />
							<div class="col-md-12"><h:outputText value="#{Post.conteudo}"/></div>
							<br />
							<div class="col-md-12">
								<h:commandButton action="#{PostMB.aprovar}" styleClass="btn btn-success" value="Aprovar" onclick="if(confirm('Tem certeza dessa ação?')){ return true }else{ return false};">
									<f:param name="id" value="#{Post.id}" />
								</h:commandButton>
								&nbsp;&nbsp;&nbsp;&nbsp;
								<h:commandButton action="#{PostMB.recusar}" styleClass="btn btn-danger" value="Recusar" onclick="if(confirm('Tem certeza dessa ação?')){ return true }else{ return false};">
									<f:param name="id" value="#{Post.id}" />
								</h:commandButton>
							</div>														
						</h:form>
						<br />
					</ui:repeat>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<p:button styleClass="btn btn-info" href="post/lista.jsf" value="Listar" icon="fa-list"/>
				</p:dialog>
        
			</div>
            </div>

    <!-- Left column -->
    <div class="templatemo-flex-row">
      <div class="templatemo-sidebar">
        <header class="templatemo-site-header">
          <h1> <i class="fa fa-gear" /> Painel Administrativo</h1>
        </header>
        <!-- Search box -->
<!--         <form class="templatemo-search-form" role="search"> -->
<!--           <div class="input-group"> -->
<!--               <button type="submit" class="fa fa-search"></button> -->
<!--               <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term" />            -->
<!--           </div> -->
<!--         </form> -->
        <div class="mobile-menu-icon">
            <i class="fa fa-bars"></i>
        </div>
        <nav class="templatemo-left-nav">          
          <ul>
            <li><a onclick="PF('modalAdministrador').show();" class="show-1" href="#"><i class="fa fa-users"></i> Administrador</a></li>
			<li><a onclick="PF('modalMusica').show();" class="show-2" href="#"><i class="fa fa-music"></i>M&uacute;sica</a></li>
			<li><a onclick="PF('modalAlbum').show();" class="show-3" href="#"><i class="fa fa-book"></i> Album</a></li>
			<li><a onclick="PF('modalFoto').show();" class="show-4" href="#"><i class="fa fa-photo"></i> Foto</a></li>
			<li><a onclick="PF('modalVideo').show();" class="show-5" href="#"><i class="fa fa-youtube-play"></i>V&iacute;deo</a></li>
			<li><a onclick="PF('modalEvento').show();" class="show-6" href="#"><i class="fa fa-flag-checkered"></i>Evento</a></li>
			<li><a onclick="PF('modalTexto').show();" class="show-7" href="#"><i class="fa fa-file-text-o"></i>Texto</a></li>
			<li><a onclick="PF('modalPost').show();" class="show-8" href="#"><i class="fa fa-newspaper-o"></i>Posts</a></li>
          </ul>  
        </nav>
      </div>

      
      <div class="templatemo-content col-1 light-gray-bg">
          <footer class="text-right">
            <p>Copyright &copy; 2015 Gerenciamento de Conteúdo - 
            Design por <a href="#">Renato Lima - Rafael Barros</a></p>
          </footer>         
        </div>
      </div>
    
    <script>
      
    </script>

  </h:body>
</html>